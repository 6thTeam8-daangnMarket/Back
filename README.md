# Clone Project

## Clone Coding Project "ë‹¹ê·¼ë§ˆì¼“" Backend

ë‹¹ê·¼ ë§ˆì¼“ í´ë¡  ì½”ë”©
<br>


## ì§„í–‰ê¸°ê°„

- 2022.04.16(ê¸ˆ) ~ 2022.04.21(ëª©)
  <br>

## âš™ ì£¼ìš” ê¸°ëŠ¥

#### APIì„¤ê³„ [ë…¸ì…˜](https://www.notion.so/8-00adac21af6d49699787e1bd1b5774c7)

#### WIREFRAME [PIGMA]()

### 1. íšŒì›ê°€ì… / ë¡œê·¸ì¸
    - íšŒì› ê°€ì… ì‹œ ì•„ì´ë””/ë‹‰ë„¤ì„ ì¤‘ë³µê²€ì‚¬
    - JWT ì¸ì¦ë°©ì‹ì„ í†µí•œ ë¡œê·¸ì¸ êµ¬í˜„
    - ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ Handlerë¥¼ í†µí•´ ì—ëŸ¬ë©”ì„¸ì§€ ì „ë‹¬

### 2. ë©”ì¸ í˜ì´ì§€ (ê²Œì‹œê¸€ ëª©ë¡)
    - S3ë¥¼ ì´ìš©í•œ ì´ë¯¸ì§€ ì—…ë¡œë“œ ë° ìˆ˜ì • ê°€ëŠ¥
    - êµ¬ë§¤ ê°€ëŠ¥í•œ ìƒí’ˆ ëª©ë¡ ì¡°íšŒ
    - í˜ì´ì§€ë„¤ì´ì…˜ (ë¬´í•œìŠ¤í¬ë¡¤) êµ¬í˜„
    - ê´€ì‹¬ ìƒí’ˆ ë“±ë¡ ì—¬ë¶€ í™•ì¸
    - ì œëª©ì— ë”°ë¥¸ ìƒí’ˆ ê²€ìƒ‰
    - ì¹´í…Œê³ ë¦¬ë³„ ìƒí’ˆ ì¡°íšŒ

### 3. ìƒì„¸ í˜ì´ì§€
    - í•´ë‹¹ ìƒí’ˆì— ê´€í•œ ì •ë³´ ì¡°íšŒ
    - ê²Œì‹œê¸€ ìˆ˜ì •, ì‚­ì œ ê°€ëŠ¥ (ì‘ì„±ìì— í•œí•¨)
    - ê´€ì‹¬ ìƒí’ˆ ë“±ë¡ ë° ì‚­ì œ

### 4. ë§ˆì´ í˜ì´ì§€
    - íšŒì›ê°€ì… ì‹œ ë“±ë¡í–ˆë˜ ì •ë³´ ì—´ëŒ
    - ê´€ì‹¬ ìƒí’ˆ ì¡°íšŒ
    - í˜ì´ì§€ë„¤ì´ì…˜ (ë¬´í•œìŠ¤í¬ë¡¤) êµ¬í˜„

<br>

## ğŸ”¨ ê°œë°œ íˆ´

<a href="" target="_blank"><img src="https://img.shields.io/badge/React-61DAFB?style=flat-square&logo=React&logoColor=white"/></a>
<a href="" target="_blank"><img src="https://img.shields.io/badge/Redux-764ABC?style=flat-square&logo=Redux&logoColor=white"/></a>
<img src="https://img.shields.io/badge/gradle-02303A?style=for-the-badge&logo=gradle&logoColor=white">
<img src="https://img.shields.io/badge/Springboot-6DB33F?style=for-the-badge&logo=Springboot&logoColor=white">
<img src= "https://img.shields.io/badge/IntelliJIDEA-000000.svg?style=for-the-badge&logo=intellij-idea&logoColor=white" width="110" height="30"/>

<br>


## ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ íŒ€ì›

|  ì´ë¦„  |                          ê¹ƒí—ˆë¸Œ ì£¼ì†Œ                           |       í¬ì§€ì…˜       |
| :----: | :------------------------------------------------------------: | :----------------: |
| ì˜¤ì˜ˆë ¹ |      [https://github.com/ohyeryung](https://github.com/ohyeryung)      |    ë°±ì—”ë“œ(ìŠ¤í”„ë§)   |
| ì´ìŠ¹ì¬ | [https://github.com/langho968](https://github.com/langho968)   |    ë°±ì—”ë“œ(ìŠ¤í”„ë§)   |
| ê¹€ë¯¼ì„± |   [https://github.com/lincoln-burrows](https://github.com/lincoln-burrows)   |    ë°±ì—”ë“œ(ìŠ¤í”„ë§)   |
| ì´ì¶˜ |  [https://github.com/lee-chun-91](https://github.com/lee-chun-91) |  í”„ë¡ íŠ¸ì—”ë“œ(ë¦¬ì•¡íŠ¸) | 
| ë…¸í˜„ì • |  [https://github.com/isabel-noh](https://github.com/isabel-noh)  |  í”„ë¡ íŠ¸ì—”ë“œ(ë¦¬ì•¡íŠ¸) |


**BacK End** : https://github.com/6thTeam8-daangnMarket/Back/tree/main/clone_backend

**Front End** : https://github.com/6thTeam8-daangnMarket/Front


<br>





<br>

<h3 align="center"><b>ğŸ“‚ Project Directory Structure ğŸ“</b></h3>

<pre>
<code>
/com.sparta.clone_backend
 â””â”€â”€/config
     â””â”€â”€ /AmazonS3Config.java
  â””â”€â”€/controller
     â”œâ”€â”€ /PostController.java
     â”œâ”€â”€ /PostLikeController.java
     â””â”€â”€ /UserController.java
  â””â”€â”€/dto
     â”œâ”€â”€ /DuplicateChkDto.java
     â”œâ”€â”€ /IsLoginDto.java
     â”œâ”€â”€ /KakaoTokenDto.java
     â”œâ”€â”€ /KakaoUserInfoDto.java
     â”œâ”€â”€ /PostDetailResponseDto.java
     â”œâ”€â”€ /PostLikeDto.java
     â”œâ”€â”€ /PostListDto.java
     â”œâ”€â”€ /PostRequestDto.java
     â”œâ”€â”€ /PostResponseDto.java
     â”œâ”€â”€ /PostsResponseDto.java
     â”œâ”€â”€ /ResponseDto.java
     â”œâ”€â”€ /SignupRequestDto.java
     â””â”€â”€ /UserPageResponseDto.java
  â””â”€â”€/model
     â”œâ”€â”€ /Image.java
     â”œâ”€â”€ /Post.java
     â”œâ”€â”€ /PostLike.java
     â”œâ”€â”€ /Timestamped.java
     â””â”€â”€ /User.java
  â””â”€â”€/repository
     â”œâ”€â”€ /ImageRepository.java
     â”œâ”€â”€ /PostLikeRepository.java
     â”œâ”€â”€ /PostRepository.java
     â””â”€â”€ /UserRepository.java
  â””â”€â”€/security
     â””â”€â”€ /filter
         â”œâ”€â”€ /FormLoginFilter.java
         â””â”€â”€ /JwtAuthFilter.java
     â””â”€â”€ /jwt
         â”œâ”€â”€ /HeaderTokenExtractor.java
         â”œâ”€â”€ /JwtDecoder.java
         â”œâ”€â”€ /JwtPreProcessingToken.java
         â””â”€â”€ /JwtTokenUtils.java
     â””â”€â”€ /provider
         â”œâ”€â”€ /AuthFailureHandler.java
         â”œâ”€â”€ /FilterSkipMatcher.java
         â”œâ”€â”€ /FormLoginSuccessHandler.java
         â”œâ”€â”€ /UserDetailsImpl.java
         â”œâ”€â”€ /UserDetailsServiceImpl.java
         â””â”€â”€ /WebSecurityConfig.java
  â””â”€â”€/service
     â”œâ”€â”€ /KakaoUserService.java
     â”œâ”€â”€ /PostLikeService.java
     â”œâ”€â”€ /PostService.java
     â”œâ”€â”€ /S3Uploader.java
     â””â”€â”€ /UserService.java
  â””â”€â”€/utils
     â””â”€â”€ /StatusMessage.java
  â””â”€â”€/validator
     â””â”€â”€ /UserInfoValidator.java
  â””â”€â”€/CloneBackendApplication.java
</code>
</pre>


## ğŸ§¾Trouble Shooting

 <p> </p>
 <p> </p>
 <p> </p>


<details>
<summary>ë¡œì»¬ í™˜ê²½ì—ì„œ ì„œë²„ì™€ í†µì‹ í•  ë•Œ CORS ì˜¤ë¥˜ ë°œìƒ</summary>
<div markdown="1">

```java
corsConfiguration.setAllowCredentials(true); 
```
ìœ„ ë¬¸êµ¬ë¥¼ WebSecurityConfig Cors ì„¤ì •ë¶€ë¶„ì— ì¶”ê°€í•˜ì—¬ í•´ê²°
</div>
</details>







<details>
<summary>ê´€ì‹¬ ìƒí’ˆ ë“±ë¡ ì‚­ì œ ì‹œ ê²Œì‹œë¬¼ì´ ì‚­ì œ</summary>
<div markdown="1">


</div>
</details>




<details>
<summary>JPA ë‚´ì¥í•¨ìˆ˜ë¡œ êµ¬í˜„í•˜ê¸° ê³¤ë€í•œ ê²€ìƒ‰ê¸°ëŠ¥ Queryë¡œ êµ¬í˜„</summary>
<div markdown="1">

```java
 //ê²€ìƒ‰ì–´ë¥¼ ë°›ì•„ì„œ ìµœì‹ ìˆœìœ¼ë¡œ ì •ë ¬í•œë‹¤.
@Query(value = "select * from post p where p.post_title like %:keyword% order by p.modified_at desc", nativeQuery = true)
    List<Post> searchByKeyword(@Param("keyword")String keyword);

//ì¹´í…Œê³ ë¦¬ë¥¼ ë°›ì•„ì„œ ìµœì‹ ìˆœìœ¼ë¡œ ì •ë ¬í•œë‹¤.
@Query(value = "select * from post p where p.category=:category order by p.modified_at desc", nativeQuery = true)
    List<Post> searchByCategory(@Param("category")String category);
    
```
ê²€ìƒ‰ê¸°ëŠ¥ì„ êµ¬í˜„í•  ë•ŒëŠ” í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ê²€ìƒ‰ì–´ë¥¼ ë³€ìˆ˜ë¡œ ë°›ì•„ì™€ì•¼ í•˜ê³ , í•´ë‹¹ ê²€ìƒ‰ì–´ê°€ ì œëª© í˜¹ì€ ë³¸ë¬¸ì— í¬í•¨ë˜ì–´ ìˆëŠ” ê¸€ì„ ì§€ì—­ë³„, ê°€ê²©ìˆœ, ìµœì‹ ìˆœ ë“±ì˜ ì¡°ê±´ìœ¼ë¡œ ê°€ì ¸ì˜¤ê²Œ ëœë‹¤. JPA í•¨ìˆ˜ì˜ ê²½ìš°ì—ëŠ” ë³€ìˆ˜ë¥¼ ë°›ì•„ì˜¤ëŠ” ê²ƒì´ ì–´ë µê³ , Or ì¡°ê±´ê³¼ And ì¡°ê±´ì´ ì„ì—¬ ìˆëŠ” ê²½ìš°ë„ í•´ê²°í•˜ê¸° ì–´ë µê¸° ë•Œë¬¸ì— Queryë¥¼ ì‚¬ìš©í•˜ëŠ” í¸ì´ í›¨ì”¬ ê°„ë‹¨í–ˆë‹¤    

</div>
</details>





<details>
<summary>S3 ë²„í‚· ê´€ë ¨ ACL ê´€ë ¨ ì—ëŸ¬ </summary>
<div markdown="1">


 <img src="https://user-images.githubusercontent.com/97422693/155449111-a04a7db8-f8ab-4841-bf4e-edc89047e996.PNG" width="600" />


AWSì— ë“¤ì–´ê°€ì„œ ê°ì²´ ì†Œìœ ê¶Œì— ëŒ€í•œ  ACL í™œì„±í™”ë¥¼ í•´ì£¼ì—ˆë‹¤


</div>
</details>
